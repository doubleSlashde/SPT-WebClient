<!DOCTYPE html>
 <html>
	<head>
		<title>speedtrack-webclient</title>
 
		<meta charset="UTF-8"/>
		
		<link rel="apple-touch-icon" href="icon.png">
		
		<!-- jQuery -->	
		<script type="text/javascript" src="js-files/jquery-1.7.2.min.js"></script>
		
		<!-- jQuery Mobile -->
		<script type="text/javascript" src="jquery-mobile/jquery.mobile-1.1.0.min.js"></script>
		<link rel="stylesheet" href="jquery-mobile/jquery.mobile.structure-1.1.0.min.css"/>
		
		<!-- speedTrack -->
		<script src="js-files/userScript.js" type="text/javascript"></script>
		<link rel="stylesheet" href="css/login.css"/>
		
		<script>
			
			$(document).bind('pageinit', function() {
				// Anklicken des Login-Inputs in #newPasswordForm löscht den Inhalt und loginInputValue Klasse (ausgegraute Schrift im Input)
	 			$("#forgetPasswordId").one("click", function() {
	 				$("#forgetPasswordId").removeClass("loginInputValue").val("");
	 			});
				
				// Beim Klicken zwischen Auf- bzw. Zuklapppfeil wechseln
	 			$("#moreInfo").click(function() {
	 				if($("#moreInfo").text().indexOf("▼") != -1) {
	 					$("#moreInfo").html('&#9650; Erweiterte Angaben');
	 				} else if($("#moreInfo").text().indexOf("▲") != -1) {
	 					$("#moreInfo").html('&#9660; Erweiterte Angaben');
	 				}
	 			});
				
				// simuliert das Öffnen und Schließen der erweiterten Angaben in der Registrierung, da erst nach einmaligem Öffnen der Style übernommen wird 
				// jQuery Mobile Problem? 
				$("#moreInfo").click();
				setTimeout('$("#moreInfo").click();', 5 );
			});
			
		</script>
		
	</head>
	<body onload="userInitLogin(); isLogedInIndex();">
		<div data-role="page" id="loginPage">
			<div id="header">
				<font>speedTrack</font>
				<a href="#aboutLoggedOutPage" data-transition="slide">
					<img align="right" src="picture/info.png">
				</a>
			</div>
			<div class="content" align="center">
				<div id="loginForm">
					<table border="0" width="99%" cellspacing="10">
						<colgroup>
							<col width="34%">
						    <col width="65%">
						</colgroup>
					  	<tr>
					    	<td><label for="loginNameId">Loginname</label></td>
					    	<td><input data-role="none" type="text" id="loginNameId" class="loginInput" /></td>
					  	</tr>
					  	<tr>
					  		<td><label for="passwordId">Passwort</label></td>
					    	<td><input data-role="none" type="password" id="passwordId" class="loginInput" /></td>
					  	</tr>
					</table>
				</div>
				<div id="loginHelp" align="right">
					<p><a href="#newPasswordPage" data-transition="slide">Passwort vergessen</a></p>
					<br />
					<p><a href="#infoPage" data-transition="slide">Registrierung</a></p>
				</div>
			
				<div id="loginBtn" align="center">
					<button data-role="none" type="button" id="loginButton" class="css3button" onclick="userLogin()">Anmelden</button>
				</div>
			</div>
		</div>
		
		<div data-role="page" id="aboutLoggedOutPage">
			<div id="header">
				<font>speedTrack</font>
				<a href="#aboutLoggedOutPage" data-transition="slide">
					<img align="right" src="picture/info.png">
				</a>
			</div>
			<div class="content">
				<div id="infoContent" data-role="content">
					<p>speedTrack ist die erste Landkarte <br>mit <b>unabh&auml;ngig gemessenen</b> Daten&uuml;bertragungsraten deutscher Mobilfunknetze. </p>
					
					<p>Sie k&ouml;nnen selber messen, Messungen analysieren und Aussagen treffen...</p>
					
					<ul>
						<li>in welchen Regionen sich mobile Anwendungen nutzen lassen</li>
						<li>wie der Benutzer die Downloadraten und Latenzzeiten in der Realit&auml;t erlebt</li>
						<li>welche besonderen Anforderungen sich daraus f&uuml;r mobile Webanwendungen ergeben</li>
						<li>wie sich Location based Services in schnell bewegenden Fahrzeugen verhalten</li>
						<li>wie die Abdeckung und Verf&uuml;gbarkeit verschiedener Mobilfunknetze ist</li>
					</ul>
					
						speedTrack ist ein Service von
						<p><a href="http://www.doubleslash.de">doubleSlash Net-Business GmbH</a></p>
				</div>
				<div id="aboutLoggedOutPageBtn" align="center">
					<button data-role="none" type="button" class="css3button_grey" onclick="history.back()">Zur&uuml;ck</button>
				</div>
			</div>	
		</div><!-- /page -->
		
		<div data-role="page" id="newPasswordPage">
			<div id="header">
				<font>speedTrack</font>
				<a href="#aboutLoggedOutPage" data-transition="slide">
					<img align="right" src="picture/info.png">
				</a>
			</div>
			<div class="content">
				<div id="newPasswordForm">
				<table border="0" width="99%" cellspacing="10">
					<colgroup>
						<col width="25%">
						<col width="64%">
					</colgroup>
					<tr>
					    <td><label for="forgetPasswordId">Login</label></td>
						<td><input data-role="none" type="text" id="forgetPasswordId" class="loginInput loginInputValue" value="Benutzername oder Email-Adresse" /></td>
					</tr>
				</table>
				<div id="passwordNote">
					- Das neu generierte Passwort wird an die, in der Registrierung hinterlegte Email-Adresse verschickt
				</div>
				</div>
				<div id="forgetPasswordBtn" align="center">
					<button data-role="none" type="button" id="forgetPasswordButton" class="css3button" onclick="newPassword()">Passwort anfordern</button>
				</div>
			</div>
		</div><!-- /page -->
		
		<div data-role="page" id="infoPage">
			<div id="header">
				<font>speedTrack</font>
				<a href="#aboutLoggedOutPage" data-transition="slide">
					<img align="right" src="picture/info.png">
				</a>
			</div>
			<div class="content">
				<div id="infoPageContent">
					<p><b>speedTrack</b> ist ein offenes Entwicklungs- und Nutzungs-Projekt. 
					Die Software wird von verschiedenen Programmierern geschrieben und von uns gepr&uuml;ft. 
					Sie &uuml;bertr&auml;gt ausschlie&szlig;lich Daten, welche f&uuml;r das Tracken notwendig sind. Sie k&ouml;nnen sich dazu auch jederzeit die 
					Quellcodes anschauen. Dieses Projekt setzt f&uuml;r die Nutzung technische Erfahrung voraus, zudem kann unsere <b>BETA-</b>
					Software noch fehlerhaft sein.</p>
					
					<p>F&uuml;r die Funktionsf&auml;higkeit oder eventuelle Sch&auml;den auf Mobilfunkger&auml;ten &uuml;bernehmen wir aufgrund der gro&szlig;en Vielfalt 
					von Ger&auml;te&auml;nderungen, Softwarest&auml;nden und Softwarekombinationen keine Haftung.</p>
					
					<p>Eine permanente Messung von Mobilfunknetzen ist nicht vorgesehen und kann gegebenenfalls den AGB der Mobilfunkanbieter 
					widersprechen oder hohe Kosten verursachen. F&uuml;r solche Nutzungen und daraus entstehende Sch&auml;den &uuml;bernehmen wir keine Haftung.</p>
					
					<ul>
						<li>Wir empfehlen eine Teilnahme im speedTrack Messteam nur technisch entsprechend erfahrenen Personen.</li>
						<li>Mit der &Uuml;bertragung der Daten an die speedTrack-Plattform erkl&auml;ren Sie sich mit deren Nutzung, Ver&ouml;ffentlichung oder L&ouml;schung durch doubleSlash einverstanden.</li>
						<li>Durch die Auswertung Ihrer pers&ouml;nlichen Daten, Mobilfunkdaten, Zeit- und Geodaten k&ouml;nnen eventuell Ihre entsprechenden Aufenthaltsorte r&uuml;ckwirkend nachvollzogen werden.</li>
						<li>Alle Daten dieses Projektes werden sp&auml;ter &uuml;ber eine API und zum Download frei zur Verf&uuml;gung gestellt.</li>
						<li>Ihre Teilnahme ist freiwillig. Wir bieten daf&uuml;r keine Verg&uuml;tung und &uuml;bernehmen keine Kosten und keine Verantwortung, 
						weder f&uuml;r Ihre Aufw&auml;nde, noch f&uuml;r Sch&auml;den oder Sch&auml;den Dritter, die durch Ihre Teilnahme entstehen.</li>
					</ul>
				</div>
				<div id="infoPageBtn" align="center">
					<button data-role="none" type="button" id="infoPageButton1" class="css3button_small_grey" onclick="history.back()">Ablehnen</button>
					<a href="#regiPage" data-transition="slide">
						<button data-role="none" type="button" id="infoPageButton2" class="css3button_small">Annehmen</button>
					</a>
				</div>
			</div>
		</div><!-- /page -->
		
		<div data-role="page" id="regiPage" data-theme="d">
			<div id="header">
				<font>speedTrack</font>
				<a href="#aboutLoggedOutPage" data-transition="slide">
					<img align="right" src="picture/info.png">
				</a>
			</div>
			<div class="content">
				<div id="regiForm">
					<table border="0" width="99%" cellspacing="10">
						<colgroup>
							<col width="34%">
						    <col width="65%">
						</colgroup>
					  	<tr>
					    	<td><label id="loginNameLableId" for="regNameId">Loginname*</label></td>
					    	<td><input data-role="none" type="text" id="regNameId" class="loginInput" /></td>
					  	</tr>
					  	<tr>
					  		<td><label id="passwordLableId1" for="passwordId1">Passwort*</label></td>
					    	<td><input data-role="none" type="password" id="passwordId1" class="loginInput" /></td>
					  	</tr>
					  	<tr>
					  		<td><label id="passwordLableId2" for="passwordId2">Passwort*</label></td>
					    	<td><input data-role="none" type="password" id="passwordId2" class="loginInput" /></td>
					  	</tr>
					  	<tr>
					  		<td><label id="emailLableId" for="emailId">Email*</label></td>
					    	<td><input data-role="none" type="text" id="emailId" class="loginInput" /></td>
					  	</tr>
					</table>
					<div id="collapse" data-role="collapsible" data-icon="false">
						<h3 id="moreInfo">&#9660; Erweiterte Angaben</h3>
		
						<table border="0" width="99%" cellspacing="10">
							<colgroup>
								<col width="34%">
							    <col width="65%">
							</colgroup>
							<tr>
								<td><label for="WebsiteId">Webseite</label></td>
								<td><input data-role="none" type="text" id="WebsiteId" class="loginInput" /></td>
							</tr>
							<tr>
								<td><label for="landId">Land</label></td>
								<td><input data-role="none" type="text" id="landId" class="loginInput" /></td>
							</tr>
							<tr>
								<td><label for="placeId">Ort</label></td>
								<td><input data-role="none" type="text" id="placeId" class="loginInput" /></td>
							</tr>
							<tr>
								<td><label for="aboutMeId">&Uuml;ber mich</label></td>
								<td><input data-role="none" type="text" id="aboutMeId" class="loginInput" /></td>
							</tr>
						</table>
					</div>
					<div id="regiPageBtn" align="center">
						<a href="#loginPage" data-transition="slide">
							<button data-role="none" type="button" id="infoPageButton1" class="css3button_small_grey">Abbrechen</button>
						</a>
						<a href="#regiPage" data-transition="slide">
							<button data-role="none" type="button" id="infoPageButton2" class="css3button_small" onclick="registrationCommit()">Registrieren</button>
						</a>
					</div>
				</div>
			</div><!-- /content -->	
		</div><!-- /page -->
	</body>
</html>