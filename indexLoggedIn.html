<!DOCTYPE html>
 <html>
	<head>
		<title>speedtrack-webclient</title>
		<meta charset="UTF-8"/>
		
		<!-- jQuery -->
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.1.0/jquery.mobile.structure-1.1.0.min.css" />
		<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
		<script src="http://code.jquery.com/mobile/1.1.0/jquery.mobile-1.1.0.min.js"></script>
		
		<!-- Google Maps -->		
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
		
		<!-- speedTrack -->
		<link rel="stylesheet" href="css/client.css" />
		<script src="js-files/userScript.js" type="text/javascript"></script>
		<script src="js-files/script.js" type="text/javascript"></script>
 		
 		<!-- PhoneGap -->
 		<script type="text/javascript" src="phonegap-1.3.0.js"></script>
 		
 		<script type="text/javascript">	
 			$(document).ready(function() {
 				// Anklicken des Inputs Gerätebezeichnung löscht den Inhalt
	 			$("#hardwareId").one("click", function() {
	 				$("#hardwareId").val("");
	 			});
	 			
	 			// Cookie mit hardwareId vorhanden? -> setze diesen in das Formular ein
	 			if(getCookie('hardwareId')) $("#hardwareId").val(getCookie('hardwareId'));
 				
 				// Cookie mit Bewegungsart vorhanden? -> setze letzte gewählte Bewegungsart
	 			if(getCookie('movementTypeId')) $("#movementTypeId").val(getCookie('movementTypeId')).attr('selected', true);
 				
	 			// Cookie mit Mobilfunknetz vorhanden? -> setze letztes gewähltes Mobilfunknetz
	 			if(getCookie('networkId')) $("#networkId").val(getCookie('networkId')).attr('selected', true);
 			});
 		</script>
 		
	</head>
	<body data-theme="d" onload="initialize(); userInit(); isLogedIn();">
		<!-- Start of first page (configuration) -->
		<div data-role="page" id="configPage" data-theme="d">
			<div data-role="header" data-theme="d">
				<img alt="Speedtrack Logo" src="picture/speedtracklogo.png" width = "125" style="float: left;" > 
				<h1 class="ui-btn-right">Optionen</h1>
			</div><!-- /header -->
			<div data-role="content">	
				<div data-role="fieldcontain" data-theme="c">
				    <label for="hardwareId">Hardware:</label>
				    <input type="text" id="hardwareId" value="Gerätebezeichnung" />
				</div>	
				<div data-role="fieldcontain" data-theme="c">
					<label for="movementTypeId" class="select ui-btn-left">Bewegungsart:</label>
					<select name="movementTypeId" id = "movementTypeId" data-theme="c">
						<option value ="1">Zu Fuss</option>
						<option value ="2">Fahrrad</option>
						<option value ="3">Schiff</option>
						<option value ="4">Auto</option>
						<option value ="5">Zug</option>
						<option value ="6">Flugzeug</option>
					</select>
				</div>
				<div data-role="fieldcontain" data-theme="c">
					<label for="networkId" class="select">Benutztes Netz:</label>
					<select name = "networkId" id = "networkId" data-theme="c">
						<option value ="1" selected>D1 T-Mobile</option>
						<option value ="2">O2 Germany</option>
						<option value ="3">D2 Vodafone</option>
						<option value ="4">E-Plus (E+)</option>
					</select>
				</div>		
			</div><!-- /content -->
			<div data-role="footer" data-theme="d" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#aboutLoggedInPage" data-transition="slide" data-icon="info" data-theme="c">Infos</a></li>	
						<li><a onclick="userLogout()" data-theme="c" data-icon="delete">Logout</a></li>
						<li><a href="#messurePage" data-icon="arrow-r" data-transition="slide" data-theme="c">Tracken</a> </li>	
						<li><a href="#speedPage" data-icon="arrow-r" data-transition="slide" data-theme="c">Speed</a></li>		
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div><!-- /page -->

		<!-- Start of next page (messure)-->
		<div data-role="page" id="messurePage" data-theme="d">
			<div data-role="header" data-theme="d" >
				<img alt="Speedtrack Logo" src="picture/speedtracklogo.png" width = "125" style="float: left;" > 
				<h1 class="ui-btn-right">Tracken</h1>
			</div><!-- /header -->		
			<div data-role="content">
				<p>
					<b>Hallo </b>
					<b id="nameOfUserTrack"> </b><br>
				</p>
				<p>Hinweise: </p>
				<ul>
					<li>GPS (und WLAN) muss aktiv sein</li>
					<li>ein Track besteht aus mindestens 20 Messpunkten</li>
					<li>die App darf während des Trackens nicht beendet werden</li>
					<li>während des Trackens sollten keine anderen Prozesse aktiv sein</li>
					<li><font color="red">das Benutzen der App wird nur in Verbindung mit einer Datenflatrate empfohlen!</font></li>
				</ul>
			</div><!-- /content -->
			<div data-role="footer" data-theme="d" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#configPage"  data-icon="home" data-transition="slide" data-direction="reverse" data-theme="c">Home</a> </li>
						<li><a onclick="userLogout()" data-theme="c" data-icon="delete">Logout</a></li>
						<li><a href="#runningMessurePage"  onclick="startIntervalMeasure(true, true)" data-icon="arrow-r" data-transition="slide" data-theme="c">Starten</a> </li>
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div><!-- /page -->
		
		<!-- Start of next page (speed)-->
		<div data-role="page" id="speedPage" data-theme="d">
			<div data-role="header" data-theme="d" >
				<img alt="Speedtrack Logo" src="picture/speedtracklogo.png" width = "125" style="float: left;" > 
				<h1 class="ui-btn-right">Speed</h1>
			</div><!-- /header -->		
			<div data-role="content">
				<p>
					<b>Hallo </b>
					<b id="nameOfUserSpeed"> </b><br>
				</p>
				<p>Hinweise: </p>
				<ul>
					<li>die App darf während der Messung nicht beendet werden</li>
					<li>während der Messung sollten keine anderen Prozesse aktiv sein</li>
					<li><font color="red">das Benutzen der App wird nur in Verbindung mit einer Datenflatrate empfohlen!</font></li>
				</ul>
			</div><!-- /content -->
			<div data-role="footer" data-theme="d" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li>
							<a href="#configPage"  data-icon="home" data-transition="slide" data-direction="reverse" data-theme="c">Home</a> 
						</li>
						<li><a onclick="userLogout()" data-theme="c" data-icon="delete">Logout</a></li>
						<li>
							<a href="#runningSpeedPage"  onclick="startIntervalMeasure(true, false)" data-icon="arrow-r" data-transition="slide" data-theme="c">Start</a> 
						</li>
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div><!-- /page -->

		<!-- Start of runningMessure page -->
		<div data-role="page" id="runningMessurePage">
			<div id="header">
				<font>speedTrack</font>
				<img align="right" src="picture/animation.gif">
			</div>
			<div id="content" align="center">
				<div id="measureState">
					<font>Messung l&auml;uft ...</font>
				</div>
				<div id="information">
					<div id="downloadRate" class="infoBox">
						<font>0</font>
					</div>
					<div id="latency" class="infoBox">
						<font>0</font>
					</div>
				
					<div>
						<font id="downloadRateLabel" class="label">KB/s Downloadrate</font>
						<font id="latencyLabel" class="label">ms Latenz</font>
					</div>
				</div>
				<div id="geoInformation">
					<div id="geoLabel">
						<p align="left" class="geoLabel">Breitengrad</p>
						<br />
						<p align="left" class="geoLabel">L&auml;ngengrad</p>
					</div>
					<div id="geoValues">
						<div align="center" id="latitude" class="geoBox"><font>?</font></div>
						<div align="center" id="longitude" class="geoBox"><font>?</font></div>
					</div>
				</div>
				<div id="measureNumber">
					<div id="measureNumberLabel">
						<p align="left" class="numberLabel">Messungen</p>
					</div>
					<div id="measureNumberValue">
						<div align="center" id="measureCount" class="numberBox"><font>0</font></div>
					</div>
				</div>
				<div id="stopMeasureBtn" align="center">
					<button data-role="none" type="button" id="stopButton" class="css3button" onclick="stopMeasure(true); location='#reportPage'">Messung beenden</button>
				</div>
			</div>
		</div>
		
		<!-- Start of runningSpeedPage -->
		<div data-role="page" id="runningSpeedPage" data-theme="d">
			<div data-role="header" data-theme="d" >
				<img alt="Speedtrack Logo" src="picture/speedtracklogo.png" width = "125" style="float: left;" > 
				<img alt="Horizontal ajaxloader" src="picture/speedTrackMovement.gif" width = "125" class="ui-btn-right" style="margin-right: 15%;"> 
			</div><!-- /header -->		
			<div data-role="content">
				<ul data-role="listview" data-inset="true" data-theme="c">
					<li>
						<b>Anzahl Messungen: </b>
						<b id="numberOfSpeed" class = "ui-li-count">0</b>
					</li>
					<li>
						<b>Downloadrate: </b>
						<div class = "ui-li-count">
							<b id="downloadRateOfSpeed">0</b> 
							<b>KB/s</b>
						</div>
					</li>
					<li>
						<b>Latenz: </b>
						<b id="latencyOfSpeed" class = "ui-li-count">0</b>
						<b>ms</b>
					</li>
					<li>
						<b>Status: </b>
						<b id="stateOfSpeed" class = "ui-li-count">Messung läuft..</b>
					</li>
				</ul>	
				<div>
					<img alt="Circle ajaxloader" id="loadPictureSpeed" src="picture/loader.gif" style="position: relative; top: 50%; left: 50%; margin: 8px; margin-left: -16px;"> 
				</div>
			</div><!-- /content -->
			<div data-role="footer" data-theme="d" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li>
							<a href="#reportPageSpeed" onclick="stopMeasure(false)" data-icon="arrow-l" data-direction="reverse" data-theme="c">Stoppen</a> 
						</li>
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div><!-- /page -->

		<!-- Start of report page -->
		<div data-role="page" id="reportPage" data-theme="d">
			<div data-role="header" data-theme="d" data-position="inline">
				<img alt="Speedtrack Logo" src="picture/speedtracklogo.png" width = "125" style="float: left;" > 
				<h1 class="ui-btn-right">Bericht</h1>
			</div><!-- /header -->		
			<div data-role="content" >
				<p>
					<b id="reportSuccess"></b><br />
					<b id="reportMassage">Die Messung wird übertragen.. </b>
				</p>
				<div id = "buttonDiv" >
					<a onclick="send(true)" data-role="button" data-inline="true" data-theme="c">Bericht per Email senden</a>				
				</div>
				<!-- Track senden -->				
			</div><!-- /content -->
			
			<div data-role="footer" data-theme="d" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li>
							<a href="#configPage" data-icon="arrow-l" data-direction="reverse" data-theme="c">Zurück</a> 
						</li>
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div><!-- /page -->

		<!-- Start of report page Speed -->
		<div data-role="page" id="reportPageSpeed" data-theme="d">
			<div data-role="header" data-theme="d" data-position="inline">
				<img alt="Speedtrack Logo" src="picture/speedtracklogo.png" width = "125" style="float: left;" > 
				<h1 class="ui-btn-right">Bericht</h1>
			</div><!-- /header -->		
			<div data-role="content" >
				<p><b>Sie haben die Geschwindigkeitsmessung beendet.</b></p>			
			</div><!-- /content -->
			
			<div data-role="footer" data-theme="d" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li>
							<a href="#configPage" data-icon="arrow-l" data-direction="reverse" data-theme="c">Zurück</a> 
						</li>
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div><!-- /page -->

		<!-- Start of About page LoggedOut(Info)-->
		<div data-role="page" id="aboutLoggedInPage" data-theme="d">
			<div data-role="header" data-theme="d">
				<img alt="Speedtrack Logo" src="picture/speedtracklogo.png" width = "125" style="float: left;" > 
				<h1 class="ui-btn-right">Infos</h1>
			</div><!-- /header -->
			<div data-role="content">
				<div data-role="fieldcontain" data-theme="c">
				    <div data-role="collapsible" data-collapsed="true" data-inline="true" data-theme="c">
				    	<br>
						<h3>speedTrack</h3>
						<p><b>speedTrack</b> ist die erste Landkarte mit <b>unabhängig gemessenen</b> Datenübertragungsraten deutscher Mobilfunknetze. </p>
						<p>Sie können selber messen, Messungen analysieren und Aussagen treffen...</p>
						<ul>
							<li>in welchen Regionen sich mobile Anwendungen nutzen lassen</li>
							<li>wie der Benutzer die Downloadraten und Latenzzeiten in der Realität erlebt</li>
							<li>welche besonderen Anforderungen sich daraus für mobile Webanwendungen ergeben</li>
							<li>wie sich Location based Services in schnell bewegenden Fahrzeugen verhalten</li>
							<li>wie die Abdeckung und Verfügbarkeit verschiedener Mobilfunknetze ist</li>
						</ul>
						<p> 
							speedTrack ist ein Service von
							<a href="http://www.doubleslash.de">doubleSlash</a>
						</p>
					</div>
					<p><b id = "platformId">App</b> Version <b id = "versionId">0</b></p>
				</div>
			</div><!-- /content -->	
			<div data-role="footer" data-theme="d" data-position="fixed">
				<div data-role="navbar">
					<ul>
						<li><a href="#configPage" data-transition="slide" data-icon="arrow-l" data-theme="c" data-direction="reverse">Zurück</a></li>
					</ul>
				</div><!-- /navbar -->
			</div><!-- /footer -->
		</div><!-- /page -->
			
	</body>
</html>